{{ if eq .Type "post" }} {{ with .Site.Params.disqus }}
<div class="row">
    <div class="col-md-12 content-card">
        <div id="disqus_thread" class="disqusComments"></div>
        <script async defer>
            (function () {
                if (window.location.hostname == "localhost") {
                    document.write("Disqus comments are unavailable while serving on localhost or 127.0.0.1");
                    return;
                }

                var protocolAndPath = [location.protocol, '//', location.host, location.pathname].join('');
                protocolAndPath = protocolAndPath[0] === '/' ? protocolAndPath.substr(1) : protocolAndPath;
                var disqus_url = protocolAndPath;
                var path = window.location.pathname;
                path = path[0] === '/' ? path.substr(1) : path;
                var disqus_identifier = path;
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                var disqus_shortname = '{{ . }}';
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        <br />
        <button id="btnOrganizeDisqusContent" class="btn btn-custom">Expand Comments</button>
    </div>
    <script async defer>
        $("#btnOrganizeDisqusContent")
            .click(function (e) {
                var expandText = "Expand Comments";
                var contractText = "Collapse Comments";
                e.preventDefault();
                if (this.innerText === expandText) {
                    $("#disqus_thread").css("max-Height", "none");
                    this.innerText = contractText;
                    return;
                }
                if (this.innerText === contractText) {
                    $("#disqus_thread").css("max-Height", "50vh");
                    this.innerText = expandText;
                    return;
                }
            });
    </script>
</div>
{{ end }} {{ end }}